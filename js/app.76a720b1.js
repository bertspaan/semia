(function(t){function e(e){for(var s,a,r=e[0],c=e[1],l=e[2],d=0,h=[];d<r.length;d++)a=r[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&h.push(o[a][0]),o[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(h.length)h.shift()();return n.push.apply(n,l||[]),i()}function i(){for(var t,e=0;e<n.length;e++){for(var i=n[e],s=!0,r=1;r<i.length;r++){var c=i[r];0!==o[c]&&(s=!1)}s&&(n.splice(e--,1),t=a(a.s=i[0]))}return t}var s={},o={app:0},n=[];function a(e){if(s[e])return s[e].exports;var i=s[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=s,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)a.d(i,s,function(e){return t[e]}.bind(null,s));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/semia/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;n.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";var s=i("85ec"),o=i.n(s);o.a},"07e6":function(t,e,i){t.exports=i.p+"img/info.47197c1b.svg"},"1c6d":function(t,e,i){"use strict";var s=i("682c"),o=i.n(s);o.a},2563:function(t,e,i){"use strict";var s=i("4e4f"),o=i.n(s);o.a},2607:function(t,e,i){"use strict";var s=i("9934"),o=i.n(s);o.a},2844:function(t,e,i){},"2cd5":function(t,e,i){"use strict";var s=i("2844"),o=i.n(s);o.a},"2e10":function(t,e,i){t.exports=i.p+"img/clutter.bbe71ba4.svg"},"3ba0":function(t,e,i){},"3e2d":function(t,e,i){"use strict";var s=i("3ba0"),o=i.n(s);o.a},"480a":function(t,e,i){},"4e4f":function(t,e,i){},"51f2":function(t,e,i){t.exports=i.p+"img/search.5437e521.svg"},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var s=i("2b0e"),o=i("8c4f"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("Header"),i("main",{ref:"main"},[i("Grid",{attrs:{tileUrl:t.config.tileUrl,gridUrl:t.config.gridUrl,dimensions:t.config.gridDimensions},on:{click:t.hideIntro,move:t.hideIntro}}),i("transition",{attrs:{name:"modal-fade"}},["about"===t.$route.name?[i("Modal",{attrs:{high:"",width:""}},[i("About")],1)]:"search"===t.$route.name?[i("Modal",{attrs:{high:"",width:""}},[i("Search",{attrs:{apiUrl:t.config.apiUrl,thumbUrl:t.config.thumbUrl}})],1)]:t.$route.params.videoId?[i("Modal",[i("Video",{attrs:{similarityAttribute:t.similarityAttribute,volume:t.volume,maxDimensions:t.maxModalDimensions,playing:t.playing,apiUrl:t.config.apiUrl,thumbUrl:t.config.thumbUrl,videoId:parseInt(t.$route.params.videoId),shotId:parseInt(t.$route.params.shotId||0)},on:{"update:similarityAttribute":function(e){t.similarityAttribute=e},"update:similarity-attribute":function(e){t.similarityAttribute=e},"update:volume":function(e){t.volume=e},"update:playing":function(e){t.playing=e}}})],1)]:t.showIntro?[i("Intro")]:t._e()],2)],1)],1)},a=[],r=(i("d81d"),i("b0c0"),i("ac1f"),i("1276"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("header",{staticClass:"padding"},[s("div",{staticClass:"heading"},[s("h1",[s("router-link",{staticClass:"wide-h1",attrs:{to:{name:"main"}}},[t._v(" The Sensory Moving Image Archive ")]),s("router-link",{staticClass:"narrow-h1",attrs:{to:{name:"main"}}},[t._v(" SEMIA ")])],1),t._m(0)]),s("div",{staticClass:"buttons"},[s("router-link",{attrs:{tag:"button",to:{name:"search"===t.$route.name?"main":"search"}}},[s("img",{attrs:{alt:"Search",src:i("51f2")}})]),s("router-link",{attrs:{tag:"button",to:{name:"about"===t.$route.name?"main":"about"}}},[s("img",{attrs:{alt:"About",src:i("07e6")}})])],1)])}),c=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("h2",[t._v(" A visualization of 103,273 "),i("br"),t._v(" shots from "),i("a",{attrs:{href:"https://openbeelden.nl/"}},[t._v("Open Images")])])}],l={},u=l,d=(i("9743"),i("2877")),h=Object(d["a"])(u,r,c,!1,null,"2e7ecb2e",null),v=h.exports,m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("div",{ref:"openseadragon",staticClass:"openseadragon"})])},f=[],p=(i("a4d3"),i("4de4"),i("e439"),i("dbb4"),i("b64b"),i("159b"),i("ade3")),g=i("3835"),b=(i("96cf"),i("1da1")),y=i("aa78"),_=i.n(y),w=i("bc3a"),I=i.n(w);function x(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function S(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?x(Object(i),!0).forEach((function(e){Object(p["a"])(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):x(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}var C={clickToZoom:!1},k={showZoomControl:!1,showFullPageControl:!1,showHomeControl:!1,visibilityRatio:.9,gestureSettingsTouch:C,gestureSettingsPen:C,gestureSettingsMouse:C},D={props:{tileUrl:String,gridUrl:String,dimensions:Array},data:function(){return{grid:void 0}},methods:{fetchGrid:function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,I.a.get(this.gridUrl);case 2:e=t.sent,this.grid=e.data;case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),move:function(){this.$emit("move")},click:function(t){if(this.$emit("click"),this.grid&&t.quick){var e=this.viewer.viewport.pointFromPixel(t.position),i=this.viewer.viewport.viewportToImageCoordinates(e.x,e.y),s=Math.floor(i.x/this.dimensions[0]),o=Math.floor(i.y/this.dimensions[1]);try{var n=this.grid[s][o],a=n.split("_"),r=Object(g["a"])(a,2),c=r[0],l=r[1];this.$router.push({name:"shot",params:{videoId:c,shotId:l}})}catch(u){}}}},mounted:function(){this.fetchGrid();var t=_()(S({},k,{element:this.$refs.openseadragon,tileSources:this.tileUrl}));t.addHandler("canvas-click",this.click),t.addHandler("canvas-drag",this.move),t.addHandler("canvas-scroll",this.move),t.addHandler("canvas-pinch",this.move),this.viewer=t}},O=D,$=(i("7f3a"),Object(d["a"])(O,m,f,!1,null,"459bfb2b",null)),T=$.exports,j=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{ref:"modal",staticClass:"modal",on:{click:t.close}},[s("div",{class:{container:!0,shadow:!0,high:t.high,width:t.width}},[s("div",{staticClass:"padding close"},[s("router-link",{attrs:{to:{name:"main"},tag:"button"}},[s("img",{attrs:{alt:"Close",src:i("9343")}})])],1),t._t("default")],2)])},U=[],A={props:{high:Boolean,width:Boolean},methods:{close:function(t){t.target===this.$refs.modal&&this.$router.push({name:"main"})}}},L=A,E=(i("7894"),Object(d["a"])(L,j,U,!1,null,"56de6379",null)),q=E.exports,z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.videoData?s("div",{ref:"video-container",staticClass:"video-container"},[s("video",{ref:"video",style:{width:t.width||Math.min(t.maxDimensions[0],t.preferedWidth)+"px",height:t.height},on:{timeupdate:t.videoTimeUpdate,loadeddata:t.videoLoadedData,click:function(e){return t.$emit("update:playing",!t.playing)}}},[s("source",{attrs:{type:"video/mp4",src:t.initialVideoUrl}})]),s("div",{staticClass:"overlay controls-bottom padding"},[s("div",{staticClass:"space-between margin-bottom"},[s("div",[t.currentShot?[s("SimilarShots",{staticClass:"no-overlay",attrs:{videoId:t.videoId,shotId:t.shotId,similarityAttribute:t.similarityAttribute,thumbUrl:t.thumbUrl,shots:t.currentShot.similar},on:{"update:similarityAttribute":function(e){return t.$emit("update:similarityAttribute",e)}}})]:t._e()],2),s("div",{staticClass:"buttons"},[this.volume?[s("button",{attrs:{title:"Turn volume off"},on:{click:t.toggleVolume}},[s("img",{attrs:{src:i("865e")}})])]:[s("button",{attrs:{title:"Turn volume on"},on:{click:t.toggleVolume}},[s("img",{attrs:{src:i("f7f5")}})])],s("button",{attrs:{title:"Watch video in full screen"},on:{click:t.fullScreen}},[s("img",{attrs:{src:i("5bad")}})])],2)]),s("Timeline",{staticClass:"no-overlay",attrs:{shots:t.videoData.shots,videoId:t.videoId,videoLength:t.videoLength,currentTime:t.currentTime}})],1),s("div",{staticClass:"overlay controls-top padding"},[s("div",{staticClass:"heading spacing"},[s("button",{attrs:{title:"Show video metadata"},on:{click:function(e){t.showInfo=!t.showInfo}}},[s("img",{attrs:{src:i("07e6")}})]),s("h3",{staticClass:"no-overlay pointer ellipsis",attrs:{title:t.videoData.title},on:{click:function(e){t.showInfo=!t.showInfo}}},[t._v(t._s(t.videoData.title))])]),s("transition",{attrs:{name:"modal-fade"}},[t.showInfo&&t.videoData?s("VideoInfo",{staticClass:"no-overlay",attrs:{data:t.videoData}}):t._e()],1)],1),s("div",{staticClass:"overlay controls-centered padding play"},[s("transition",{attrs:{name:"play-fade"}},[t.playing?t._e():s("button",{attrs:{title:"Play video"},on:{click:function(e){return t.$emit("update:playing",!0)}}},[s("img",{attrs:{src:i("91be")}})])])],1)]):s("div",{staticClass:"padding centered"},[s("Loading")],1)},M=[],R=(i("99af"),i("a9e3"),i("8a79"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"video-info shadow text"},[i("dl",[i("dt",[t._v("Date:")]),i("dd",[t._v(t._s(t.data.date))]),i("dt",[t._v("Duration:")]),i("dd",[t._v(t._s(t.lengthString))]),i("dt",[t._v("URL:")]),i("dd",[i("a",{attrs:{href:t.data.url}},[t._v(t._s(t.data.url))])])]),i("p",[t._v(t._s(t.data.description))]),i("p",[t._v(t._s(t.data.abstract))])])}),P=[];i("4d90");function V(t){var e=Math.floor(t/60),i=Math.round(t-60*e);return"".concat(e,":").concat(String(i).padStart(2,"0"))}var N={props:{data:Object},computed:{lengthString:function(){return V(this.data.length)}}},F=N,H=(i("fef9"),Object(d["a"])(F,R,P,!1,null,"c781fe52",null)),W=H.exports,B=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ol",{staticClass:"shots"},t._l(t.shots,(function(e,s){return i("li",{key:s,style:{width:(e.end-e.start)/t.videoLength*100+"%"},attrs:{title:"Shot "+(s+1)}},[i("router-link",{attrs:{to:{name:"shot",params:{videoId:t.videoId,shotId:s}}}},[i("div",{staticClass:"shot-position",style:{width:100*t.percentageInShot(e.start,e.end,t.currentTime)+"%"}})])],1)})),0)},G=[],Q={props:{videoId:Number,shots:Array,currentTime:Number,videoLength:Number},methods:{percentageInShot:function(t,e,i){return i<t?0:i>e?1:(i-t)/(e-t)}}},J=Q,Z=Object(d["a"])(J,B,G,!1,null,"35ebacf1",null),Y=Z.exports,K=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"similar"},[s("button",{on:{click:t.nextAttribute}},["colour"===t.similarityAttribute?s("img",{attrs:{alt:"Similar shots by colour",src:i("cb9f")}}):"shape"===t.similarityAttribute?s("img",{attrs:{alt:"Similar shots by shape",src:i("bedf")}}):"movement"===t.similarityAttribute?s("img",{attrs:{alt:"Similar shots by movement",src:i("e483")}}):"clutter"===t.similarityAttribute?s("img",{attrs:{alt:"Similar shots by clutter",src:i("2e10")}}):t._e()]),s("ol",t._l(t.shots[t.similarityAttribute],(function(e){var i=e[0],o=e[1];return s("li",{key:i+"_"+o},[s("ShotTile",{attrs:{videoId:i,shotId:o,thumbUrl:t.thumbUrl}})],1)})),0)])},X=[],tt=(i("c975"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("router-link",{attrs:{to:{name:"shot",params:{videoId:t.videoId,shotId:t.shotId}}}},[i("img",{staticClass:"shadow",attrs:{title:"Video "+t.videoId+", shot "+(t.shotId+1),src:t.thumbUrl+"/"+t.videoId+"/"+t.videoId+"_"+t.shotId+".png"}})])}),et=[],it={props:{thumbUrl:String,videoId:Number,shotId:{type:Number,default:0}}},st=it,ot=(i("2563"),Object(d["a"])(st,tt,et,!1,null,"c3d8e602",null)),nt=ot.exports,at={props:{shots:Object,videoId:Number,shotId:Number,thumbUrl:String,similarityAttribute:String},components:{ShotTile:nt},methods:{nextAttribute:function(){var t=this.attributes.indexOf(this.similarityAttribute),e=(t+1)%this.attributes.length,i=this.attributes[e];this.$emit("update:similarityAttribute",i)}},computed:{attributes:function(){return Object.keys(this.shots)}}},rt=at,ct=(i("1c6d"),Object(d["a"])(rt,K,X,!1,null,"ed7d215e",null)),lt=ct.exports,ut=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"loading"},[t._m(0),i("div",{staticClass:"text"},[i("div",[t._v("Loading data from server.")]),t.longer?i("div",[t._v("This can take "),i("del",[t._v("a few")]),t._v(" many seconds, the "),i("a",{attrs:{href:"https://glitch.com/edit/#!/semia-api"}},[t._v("API server on Glitch")]),t._v(" is waking up.")]):t.long?i("div",[t._v("This can take "),i("del",[t._v("a few")]),t._v(" many seconds.")]):i("div",[t._v("This can take a few seconds.")])])])},dt=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"lds-ring"},[i("div"),i("div"),i("div"),i("div")])}],ht={data:function(){return{longLoading:4e3,longer:!1,long:!1,timeoutLong:void 0,timeoutLonger:void 0}},mounted:function(){var t=this;this.timeoutLong=window.setTimeout((function(){t.long=!0}),this.longLoading),this.timeoutLonger=window.setTimeout((function(){t.longer=!0}),2*this.longLoading)},beforeDestroy:function(){clearTimeout(this.timeoutLong),clearTimeout(this.timeoutLonger)}},vt=ht,mt=(i("2607"),Object(d["a"])(vt,ut,dt,!1,null,"1faef916",null)),ft=mt.exports,pt={components:{VideoInfo:W,Timeline:Y,SimilarShots:lt,Loading:ft},props:{apiUrl:String,thumbUrl:String,videoId:Number,shotId:Number,playing:Boolean,volume:Number,similarityAttribute:String,maxDimensions:Array},data:function(){return{videoLoaded:!1,videoData:void 0,showInfo:!1,videoUrl:void 0,initialVideoUrl:void 0,currentTime:void 0,videoLength:void 0,videoDimensions:void 0,preferedWidth:800,width:void 0,height:void 0}},watch:{playing:function(){this.setPlaying(this.playing)},videoId:function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:this.videoLoaded=!1,this.width=void 0,this.height=void 0,this.loadVideo();case 4:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),maxDimensions:function(){this.setDimensions()},shotId:function(t){if(this.videoDataInvalid())this.videoData=void 0;else if(this.videoData)if(t>=this.videoData.shots.length)this.$router.push({name:"shot",params:{videoId:this.videoId,shotId:this.videoData.shots.length-1}});else if(t<0)this.$router.push({name:"shot",params:{videoId:this.videoId,shotId:0}});else{var e=this.$refs.video,i=e.currentTime,s=this.findClosestShot(i);s!==t&&(e.currentTime=this.videoData.shots[t].start,this.playing&&e.play())}},videoData:function(t){if(!t)return this.videoUrl=void 0,this.currentTime=0,this.initialVideoUrl=void 0,void(this.videoLength=0);this.videoLength=t.shots.reduce((function(t,e){return t+(e.end-e.start)}),0);var e=0;void 0!==this.shotId&&this.shotId>=0&&this.shotId<t.shots.length&&(e=t.shots[this.shotId].start);var i=t.medium.filter((function(t){return t.endsWith(".mp4")}));this.videoUrl=i[1]||i[0],this.currentTime=e,this.initialVideoUrl="".concat(this.videoUrl,"#t=").concat(e)}},computed:{currentShot:function(){if(this.videoData&&this.videoData.shots[this.shotId])return this.videoData.shots[this.shotId]},shotCount:function(){return this.videoData.shots.length}},methods:{setDimensions:function(){if(this.videoLoaded){var t,e=this.aspectRatio(this.videoDimensions),i=this.aspectRatio(this.maxDimensions);t=i>e?[this.videoDimensions[0]*this.maxDimensions[1]/this.videoDimensions[1],this.maxDimensions[1]]:[this.maxDimensions[0],this.videoDimensions[1]*this.maxDimensions[0]/this.videoDimensions[0]];var s=1/this.aspectRatio(t)*this.preferedWidth;t[0]<this.preferedWidth||t[1]<s?(this.width="".concat(t[0],"px"),this.height="".concat(t[1],"px")):(this.width="".concat(this.preferedWidth,"px"),this.height="".concat(this.preferedHeight,"px"))}},aspectRatio:function(t){return t[0]/t[1]},videoLoadedData:function(){var t=this.$refs.video;t&&(this.videoLoaded=!0,this.videoDimensions=[t.videoWidth,t.videoHeight],this.setDimensions()),this.setPlaying(this.playing),this.setVolume(this.volume)},setVolume:function(t){var e=this.$refs.video;e&&(e.volume=t,this.$emit("update:volume",t))},toggleVolume:function(){var t=this.$refs.video;t&&(t.volume>0?this.setVolume(0):this.setVolume(1))},fullScreen:function(){var t=this.$refs.video;t&&(t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen())},loadVideo:function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.videoDataInvalid()&&(this.videoData=void 0),t.next=3,this.getVideoData(this.videoId);case 3:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),findClosestShot:function(t){var e;for(e=0;e<this.videoData.shots.length;e++){var i=this.videoData.shots[e];if(t<=i.end)break}return e},videoDataInvalid:function(){return!(!this.videoData||this.videoId===this.videoData.id)},getVideoData:function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(e){var i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i="".concat(this.apiUrl,"/videos/").concat(e),t.next=3,I.a.get(i);case 3:s=t.sent,this.videoData=s.data;case 5:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),setPlaying:function(t){var e=this.$refs.video;e&&(t?e.play():e.pause())},videoTimeUpdate:function(){var t=this.$refs.video;if(t&&void 0!==t.currentTime&&(this.currentTime=t.currentTime),this.currentShot){var e=this.currentTime>this.currentShot.end,i=this.shotId<this.shotCount-1;if(i&&e){var s=this.findClosestShot(this.currentTime);void 0!==s&&s!==this.shotId&&this.$router.push({name:"shot",params:{videoId:this.videoId,shotId:s}})}}},toShot:function(t){var e=this.$refs.video;e.currentTime=t,this.paused||e.play()}},mounted:function(){this.loadVideo()},beforeDestroy:function(){var t=this.$refs.video;if(t){var e=this.$refs["video-container"];e.style.display="none",t.pause(),t.removeAttribute("src"),t.load()}}},gt=pt,bt=(i("fe5c"),Object(d["a"])(gt,z,M,!1,null,"abdba704",null)),yt=bt.exports,_t=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"text"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.query,expression:"query"}],ref:"query",attrs:{type:"text",placeholder:"Search…"},domProps:{value:t.query},on:{focus:function(e){return t.search(t.query)},input:function(e){e.target.composing||(t.query=e.target.value)}}}),0===t.query.length?i("div",[t._v(" Type a search query to search videos from "),i("a",{attrs:{href:"https://openbeelden.nl/"}},[t._v("Open Beelden")]),t._v(". ")]):t.query.length<t.minQueryLength?i("div",[t._v(" The search query has to be at least "+t._s(t.minQueryLength)+" characters long. ")]):t.loading||0!==t.searchResults.length?t.loading?i("Loading"):i("ol",t._l(t.searchResults,(function(e){return i("li",{key:e.videoId},[i("div",{staticClass:"result"},[i("ShotTile",{attrs:{videoId:e.videoId,thumbUrl:t.thumbUrl}}),i("div",{staticClass:"result-text"},[i("router-link",{attrs:{to:{name:"video",params:{videoId:e.videoId}}}},[t._v(t._s(e.data.title.trim()))]),i("span",{staticClass:"video-length"},[t._v(t._s(t.lengthString(e.data.length)))])],1)],1)])})),0):i("div",[t._v(" No videos found. ")])],1)},wt=[],It=(i("841c"),i("2ef0")),xt={components:{Loading:ft,ShotTile:nt},props:{apiUrl:String,thumbUrl:String},data:function(){return{query:this.$route.query.query||"",searchResults:[],loading:!1,minQueryLength:2,cancel:void 0}},mounted:function(){this.$refs.query.focus()},watch:{query:function(t){this.throttledSearch(t)}},methods:{throttledSearch:Object(It["throttle"])((function(t){this.search(t)}),500),search:function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(e){var i,s,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!(e.length<this.minQueryLength)){t.next=2;break}return t.abrupt("return");case 2:return e&&e.length>0&&this.$route.query.query!==e&&this.$router.push({name:"search",query:{query:e}}),this.loading=!0,i="".concat(this.$props.apiUrl,"/search?q=").concat(e),t.prev=5,this.cancel&&this.cancel.cancel(),this.cancel=I.a.CancelToken.source(),t.next=10,I.a.get(i,{cancelToken:this.cancel.token});case 10:s=t.sent,o=s.data,this.searchResults=o,this.loading=!1,t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](5),I.a.isCancel(t.t0)||(console.error(t.t0),this.loading=!1);case 19:case"end":return t.stop()}}),t,this,[[5,16]])})));function e(e){return t.apply(this,arguments)}return e}(),lengthString:function(t){return V(t)}}},St=xt,Ct=(i("2cd5"),Object(d["a"])(St,_t,wt,!1,null,"68707d17",null)),kt=Ct.exports,Dt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ot=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"text"},[s("h3",[t._v("About this website")]),s("p",[t._v(" This website visualizes the similarity of 103,273 shots from 6,969 videos from "),s("a",{attrs:{href:"https://openbeelden.nl/"}},[t._v("Open Images")]),t._v(", a Dutch repository for "),s("a",{attrs:{href:"https://creativecommons.org/"}},[t._v("Creative Commons")]),t._v(" licensed audiovisual material. ")]),s("p",[t._v(" It was made by "),s("a",{attrs:{href:"https://bertspaan.nl/"}},[t._v("Bert Spaan")]),t._v(" and commisioned by the "),s("a",{attrs:{href:"https://sensorymovingimagearchive.humanities.uva.nl/"}},[t._v("Sensory Moving Image Archive")]),t._v(" (SEMIA) project, a collaboration between the following organizations: ")]),s("ul",[s("li",[s("a",{attrs:{href:"https://www.uva.nl/en"}},[t._v("University of Amsterdam")])]),s("li",[s("a",{attrs:{href:"https://www.amsterdamuas.com/"}},[t._v("Amsterdam University of Applied Sciences")])]),s("li",[s("a",{attrs:{href:"https://www.beeldengeluid.nl/en"}},[t._v("Netherlands Institute for Sound and Vision")])]),s("li",[s("a",{attrs:{href:"http://www.studiolouter.nl/"}},[t._v("Studio Louter")])]),s("li",[s("a",{attrs:{href:"https://www.eyefilm.nl/en"}},[t._v("EYE Filmmuseum")])])]),s("p",[t._v(" From the "),s("a",{attrs:{href:"https://sensorymovingimagearchive.humanities.uva.nl/index.php/about/"}},[t._v("SEMIA website")]),t._v(": ")]),s("blockquote",{attrs:{cite:"https://sensorymovingimagearchive.humanities.uva.nl/index.php/about/"}},[t._v(" The use of sensory features, combined with possibilities for explorative browsing, would provide a boost to the practice of those users who seek to creatively repurpose collections: artists, the creative industries, but also researchers. The SEMIA project’s objective is to establish how these groups can explore, navigate and repurpose a specific subset of heritage objects – moving images – by using tools for the analysis (software) and visualization (interfaces) of visual features and relations. ")]),s("p",[s("a",{attrs:{href:"https://nanne.github.io/"}},[t._v("Nanne van Noord")]),t._v(", computer science researcher at the University of Amsterdam used computer vision and machine learning to analyze all videos on "),s("a",{attrs:{href:"https://openbeelden.nl/"}},[t._v("Open Images")]),t._v(". With a "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/Shot_transition_detection"}},[t._v("shot transition detection")]),t._v(" algorithm, he first divided the videos into 103,273 shots. For each of these shots, all frames were analyzed and four properties were computed: ")]),s("ol",[s("li",[s("img",{staticClass:"icon",attrs:{alt:"Color",src:i("cb9f")}}),t._v(" "),s("strong",[t._v("Color")]),t._v(": the most prominent color in a shot;")]),s("li",[s("img",{staticClass:"icon",attrs:{alt:"Shape",src:i("bedf")}}),t._v(" "),s("strong",[t._v("Shape")]),t._v(": the numerical output of a shape detecting neural network;")]),s("li",[s("img",{staticClass:"icon",attrs:{alt:"Movement",src:i("e483")}}),t._v(" "),s("strong",[t._v("Movement")]),t._v(": the direction of the most prominent movement;")]),s("li",[s("img",{staticClass:"icon",attrs:{alt:"Clutter",src:i("2e10")}}),t._v(" "),s("strong",[t._v("Clutter")]),t._v(": the visual complexity of a shot.")])]),s("p",[t._v(" From all these parameters per shot, the "),s("a",{attrs:{href:"https://en.wikipedia.org/wiki/T-distributed_stochastic_neighbor_embedding"}},[t._v("t-distributed Stochastic Neighbor Embedding")]),t._v(" (t-SNE) algorithm was used to create two-dimensional visualizations of the similarity between all shots. This website visualizes the t-SNE based on the shot’s color property. ")]),s("h3",[t._v("Using this website")]),s("p",[t._v(" Move around and zoom in and out until you find a shot you want to watch! Click "),s("img",{staticClass:"icon",attrs:{alt:"Play",src:i("91be")}}),t._v(" Play to start playing a video, "),s("img",{staticClass:"icon",attrs:{alt:"Volume",src:i("865e")}}),t._v("/"),s("img",{staticClass:"icon",attrs:{alt:"Volume",src:i("f7f5")}}),t._v(" to turn sound off and on, and "),s("img",{staticClass:"icon",attrs:{alt:"Full screen",src:i("5bad")}}),t._v(" to play the video in full screen. To view more information about a video, click "),s("img",{staticClass:"icon",attrs:{alt:"Info",src:i("07e6")}}),t._v(" next to the title. ")]),s("p",[t._v(" Use the "),s("ol",{staticClass:"shots"},[s("li",{staticStyle:{width:"20%"}},[s("a",[s("div",{staticClass:"shot-position",staticStyle:{width:"100%"}})])]),s("li",{staticStyle:{width:"35%"}},[s("a",[s("div",{staticClass:"shot-position",staticStyle:{width:"100%"}})])]),s("li",{staticStyle:{width:"15%"}},[s("a",[s("div",{staticClass:"shot-position",staticStyle:{width:"100%"}})])]),s("li",{staticStyle:{width:"8%"}},[s("a",[s("div",{staticClass:"shot-position",staticStyle:{width:"100%"}})])])]),t._v(" timeline to navigate between the individual shots of which the video is composed. For each shot, the five most similar shots are shown, using the four properties mentioned above: "),s("img",{staticClass:"icon",attrs:{alt:"Color",src:i("cb9f")}}),t._v(" color, "),s("img",{staticClass:"icon",attrs:{alt:"Shape",src:i("bedf")}}),t._v(" shape, "),s("img",{staticClass:"icon",attrs:{alt:"Movement",src:i("e483")}}),t._v(" movement and "),s("img",{staticClass:"icon",attrs:{alt:"Clutter",src:i("2e10")}}),t._v(" clutter. Click the property icon to compare shots using a different property. ")]),s("h3",[t._v("Data & source code")]),s("p",[t._v(" This website was inspired by my former co-worker "),s("a",{attrs:{href:"https://brianfoo.com/"}},[t._v("Brian Foo")]),t._v("’s "),s("a",{attrs:{href:"https://amnh-sciviz.github.io/image-collection/"}},[t._v("visualization of 13,212 digitized images")]),t._v(" of the American Museum of Natural History’s photo collection. Pieces of Brian Foo’s code where used to generate an image grid from t-SNE data. ")]),s("p",[t._v(" All source code and data used in this project is available on "),s("a",{attrs:{href:"https://github.com/bertspaan/semia"}},[t._v("GitHub")]),t._v(". ")]),s("p",[t._v(" The search index and video metadata are accessed using an API running on "),s("a",{attrs:{href:"https://glitch.com/edit/#!/semia-api?path=server.js:154:26"}},[t._v("Glitch")]),t._v(".")])])}],$t={},Tt=$t,jt=(i("3e2d"),Object(d["a"])(Tt,Dt,Ot,!1,null,"62472e08",null)),Ut=jt.exports,At=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"intro padding"},[s("div",{staticClass:"container shadow"},[s("div",{staticClass:"text"},[t._v(" This is a visualization and exploration of 103,273 shots from 6,969 open license videos, sorted by color. Move around and zoom to explore the visualization, or click any shot to start watching. See the "),s("img",{staticClass:"icon",attrs:{alt:"About",src:i("07e6")}}),t._v(" "),s("router-link",{attrs:{to:{name:"about"}}},[t._v("About")]),t._v(" page for more information. ")],1)])])},Lt=[],Et={props:{}},qt=Et,zt=(i("cf7c"),Object(d["a"])(qt,At,Lt,!1,null,"a669009e",null)),Mt=zt.exports,Rt={tileUrl:"https://s3.eu-central-1.amazonaws.com/files.sensorymovingimagearchive.humanities.uva.nl/visualization/tiles/tsne_embedding_colour.dzi",gridUrl:"https://s3.eu-central-1.amazonaws.com/files.sensorymovingimagearchive.humanities.uva.nl/visualization/tsne_embedding_colour.json",gridDimensions:"128x128".split("x"),apiUrl:"https://semia-api.glitch.me",thumbUrl:"https://s3.eu-central-1.amazonaws.com/files.sensorymovingimagearchive.humanities.uva.nl/visualization/thumbnails/thumbnails32x64",thumbDimensions:"128x256,64x128,32x64,16x32".split(",").map((function(t){return t.split("x")}))},Pt={name:"app",components:{Header:v,Grid:T,Video:yt,Modal:q,Search:kt,About:Ut,Intro:Mt},data:function(){return{config:Rt,searchQuery:"",playing:!1,similarityAttribute:"colour",volume:1,maxModalDimensions:[0,0],showIntro:!0}},methods:{windowResize:function(){var t=this.$refs.main.offsetWidth,e=this.$refs.main.offsetHeight;this.maxModalDimensions=[t-6,e-6]},hideIntro:function(){this.showIntro=!1},keyDown:function(t){" "===t.key?this.playing=!this.playing:"Escape"===t.key&&"main"!==this.$route.name&&this.$router.push({name:"main"})}},mounted:function(){this.windowResize()},created:function(){window.addEventListener("keydown",this.keyDown),window.addEventListener("resize",this.windowResize)},beforeDestroy:function(){window.removeEventListener("keydown",this.keyDown)}},Vt=Pt,Nt=(i("034f"),Object(d["a"])(Vt,n,a,!1,null,null,null)),Ft=Nt.exports;s["a"].use(o["a"]),s["a"].config.productionTip=!1;var Ht=new o["a"]({routes:[{name:"main",path:"/",component:Ft},{name:"about",path:"/about",component:Ft},{name:"search",path:"/search",component:Ft},{name:"video",path:"/video/:videoId",component:Ft},{name:"shot",path:"/video/:videoId/shot/:shotId",component:Ft}]});new s["a"]({render:function(t){return t(Ft)},router:Ht}).$mount("#app")},"5bad":function(t,e,i){t.exports=i.p+"img/maximize.f7c1938e.svg"},"682c":function(t,e,i){},7894:function(t,e,i){"use strict";var s=i("b9ea"),o=i.n(s);o.a},"7b73":function(t,e,i){},"7f3a":function(t,e,i){"use strict";var s=i("7b73"),o=i.n(s);o.a},"85ec":function(t,e,i){},"865e":function(t,e,i){t.exports=i.p+"img/volume.ce35a355.svg"},"884b":function(t,e,i){},"91be":function(t,e,i){t.exports=i.p+"img/play-circle.36f0e6ee.svg"},9343:function(t,e,i){t.exports=i.p+"img/x-circle.3941b546.svg"},9743:function(t,e,i){"use strict";var s=i("990c"),o=i.n(s);o.a},"990c":function(t,e,i){},9934:function(t,e,i){},"9d26":function(t,e,i){},b9ea:function(t,e,i){},bedf:function(t,e,i){t.exports=i.p+"img/shape.e9598f64.svg"},cb9f:function(t,e,i){t.exports=i.p+"img/colour.ac04acba.svg"},cf7c:function(t,e,i){"use strict";var s=i("884b"),o=i.n(s);o.a},e483:function(t,e,i){t.exports=i.p+"img/movement.a8d241e0.svg"},f7f5:function(t,e,i){t.exports=i.p+"img/volume-x.60183b4b.svg"},fe5c:function(t,e,i){"use strict";var s=i("9d26"),o=i.n(s);o.a},fef9:function(t,e,i){"use strict";var s=i("480a"),o=i.n(s);o.a}});
//# sourceMappingURL=app.76a720b1.js.map